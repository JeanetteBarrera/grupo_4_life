<!DOCTYPE html>
<html lang="es">
<%- include("./partials/head") %> 
<body>
  <!-- Header -->
  <%- include("./partials/header") %>
  
  <!-- Main -->
    <main class="producto mx-2 md:mx-10 lg:mx-24">
        <div class="grid grid-cols-5 grid-rows-3 gap-4">
            
            <!--contenedor de imagen-->
            <div class="col-span-5 row-span-3 md:col-span-3">
                <figure id="imagen" class="col-span-5 row-span-3">
                    <img src="/images/img/<%= result.variantes[0].image %> " alt="">
                </figure>
            </div>
            <!--contenedor de detalles del producto-->
            <div class="col-span-5 md:col-span-2 row-span-1 detalles">
                <div class="titulo text-lg md:text-xl lg:text-2xl">
                    <h1 class="w-3/5 md:w-full text-left"><%= result.name %></h1>
                    <span>$<%= result.price%></span>
                   <!--- <span class="text-red-500"> = product.price </span>-->
                </div>
                <form action="">
                    
                    <div class="colores mb-4">
                        <h3>color</h3>
                        <div class="colors">
                            <ul>
                                <%result.variantes.forEach(variante => {%>
                                    <li>
                                        <label>
                                            <input type="radio" name="color" value="<%=variante.color%>">
                                            <span class="swatch" style=<%="background-color:"+variante.color%>></span>
                                        </label>
                                    </li>
                                 <% });%>
                            </ul> 
                        </div> 
                    </div>
                    <div class="talles">
                        <h3>talle</h3>
                        <div class="space-x-5 opciones">
                           <%result.variantes[0].stock.forEach(talle => { %>
                            <label>
                                <input type="radio" name="size" value=""> <%=talle.Size.size %>
                            </label>
                            <% }); %>
                        </div>
                    </div>
                    <div>
                        <button class="boton-comprar" type="submit">comprar</button>
                    </div>
                </form>
            </div>
            
            <!--contenedor de descripcion-->
            <div class="col-span-5 md:col-start-4 row-star-2 descripcion">
                <h3>descripcion</h3>
                <p><%= result.description %></p>
            </div>
        </div>
    </main>

    <script>
        const imagenVariante = document.querySelector('#imagen');
        const colorVariante = document.getElementsByTagName('color');


        document.addEventListener("DOMContentLoaded", function(){

            /*for(let i=0; i<colorVariante.length ; i++){
                fetch()
            }*/
            colorVariante.addEventListener("change", ()=>{
                console.log(colorVariante.value)
                /*for(let i=0; i<colorVariante.length ; i++){
                    if(colorVariante[i])
                }*/

            })

        })
    </script>
  <!-- Footer -->
    <%- include("./partials/footer") %>
</body>
</html>